  <h2>Patients</h2>
  <button (click)="activateForm()">+Add New Patient</button>
  @if(AddBtnPressed){
    <form [formGroup]="addPatientForm" (ngSubmit)="onSubmit()" id="addPatientForm">
    <div>
      <label for="patientID">Patient ID</label><br/>
      <input formControlName="patientID" type="number" id="patientID" name="patientID" />
    </div>

    <div>
      <label for="patientName">Patient Name</label><br/>
      <input formControlName="patientName" type="text" id="patientName" name="patientName" />
    </div>

    <div>
      <label for="patientEmail">Patient Email</label><br/>
      <input formControlName="patientEmail" type="text" id="patientEmail" name="patientEmail" />
    </div>

    <div>
      <label for="patientPhone">Patient Phone</label><br/>
      <input formControlName="patientPhone" type="text" id="patientPhone" name="patientPhone" />
    </div>

    <div>
      <label for="patientDescription">Patient Description</label><br/>
      <textarea formControlName="patientDescription" id="patientDescription" name="patientDescription"></textarea>
    </div>

    <div>
      <button  [disabled]="!(addPatientForm.valid)" type="submit" >Add Patient</button>
      <button (click)="deactivateForm()">cancel</button>
    </div>
  </form>
  }

<!-- Edit button form starts here   -->
@if(EditBtnPressed){
    <form [formGroup]="editPatientForm" (ngSubmit)="onEdit()" id="editPatientForm">
    <div>
      <label for="patientID">Patient ID</label><br/>
      <input formControlName="patientID" type="number" id="patientID" name="patientID" />
    </div>
    
    <div>
      <label for="visitID">Visit ID</label><br/>
      <input formControlName="visitID" type="number" id="visitID" name="visitID" />
    </div>

    <div>
      <label for="patientName">Patient Name</label><br/>
      <input formControlName="patientName" type="text" id="patientName" name="patientName" />
    </div>

    <div>
      <label for="patientEmail">Patient Email</label><br/>
      <input formControlName="patientEmail" type="text" id="patientEmail" name="patientEmail" />
    </div>

    <div>
      <label for="patientPhone">Patient Phone</label><br/>
      <input formControlName="patientPhone" type="text" id="patientPhone" name="patientPhone" />
    </div>

    <div>
      <label for="patientDescription">Patient Description</label><br/>
      <textarea formControlName="patientDescription" id="patientDescription" name="patientDescription"></textarea>
    </div>

    <div>
      <button  [disabled]="!(editPatientForm.valid)" type="submit" >Edit Patient Record</button>
      <button (click)="deactivateEditForm()">cancel</button>
    </div>
  </form>
  }




<table>
  <thead>
    <tr>
      <th>Patient ID</th>
      <!-- <th>Visit ID</th> -->
      <th>Patient Name</th>
      <th>Patient Email</th>
      <th>Patient Phone</th>
      <th>Patient Description</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>

@for(patient of AllPatients; track patient){
    <tr>
      <td>{{patient.patientID}}</td>
      <!-- <td>{{patient.visitID}}</td> -->
      <td>{{patient.patientName}}</td>
      <td>{{patient.patientEmail}}</td>
      <td>{{patient.patientPhone}}</td>
      <td>{{patient.patientDescription}}</td>
      <td class="actions">
        <button type="button" class="btn btn-edit" (click)="activateEditForm(patient)">Edit</button>
        <button type="button" class="btn btn-delete" (click)="deleteAction(patient.patientID)">Delete</button>
      </td>
    </tr>
}
  </tbody>
</table>



